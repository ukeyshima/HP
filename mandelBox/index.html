<!DOCTYPE html><html lamg="ja"><head><script id="fs" type="x-shader/x-fragment">#version 300 es
precision highp float;
uniform float time;
uniform vec2 resolution;
out vec4 outColor;

vec3 rotate(vec3 p, float angle, vec3 axis){
    vec3 a = normalize(axis);
    float s = sin(angle);
    float c = cos(angle);
    float r = 1.0 - c;
    mat3 m = mat3(
        a.x * a.x * r + c,
        a.y * a.x * r + a.z * s,
        a.z * a.x * r - a.y * s,
        a.x * a.y * r - a.z * s,
        a.y * a.y * r + c,
        a.z * a.y * r + a.x * s,
        a.x * a.z * r + a.y * s,
        a.y * a.z * r - a.x * s,
        a.z * a.z * r + c
    );
    return m * p;
}


float sphereDistFunc(vec3 p){
    return length(p)-1.0;
}

float mBoxDistFunc(vec3 p){
float scale =3.0;
  const int n = 10;
  vec4 q0 = vec4 (p, 1.0);
  vec4 q = q0;
  for ( int i = 0; i < n; i++ ) {
    q.xyz = clamp( q.xyz, -1.0, 1.0 ) * 2.0 - q.xyz;
    q = q * scale / clamp( dot( q.xyz, q.xyz ), 0.5, 1.0 ) + q0;
  }
  return length( q.xyz ) / abs( q.w );
}

float distFunc(vec3 p,float t){
    p=rotate(p,t,vec3(1.0,1.0,1.0));
    return mBoxDistFunc(p);
}

vec3 genNormal(vec3 p,float t){
    float d=0.001;
    return normalize(vec3(
        distFunc(p+vec3(d,0.0,0.0),t)-distFunc(p+vec3(-d,0.0,0.0),t),
        distFunc(p+vec3(0.0,d,0.0),t)-distFunc(p+vec3(0.0,-d,0.0),t),
        distFunc(p+vec3(0.0,0.0,d),t)-distFunc(p+vec3(0.0,0.0,-d),t)
        ));
}
vec3 lightPos=vec3(100.0,100.0,0.0);
vec3 cDir=normalize(vec3(0.0,0.0,1.0));
vec3 cUp=normalize(vec3(0.0,1.0,0.0));
float dipth=1.0;

void main(void){
    vec2 p=(gl_FragCoord.xy*2.0-resolution)/min(resolution.x,resolution.y);
    vec3 cPos=vec3(0.0,1.5+cos(time),0.75-sin(time));
    vec3 cSide=normalize(cross(cDir,cUp));
    vec3 ray=normalize(cSide*p.x+cUp*p.y+cDir*dipth);
    
    vec3 rPos=cPos;
    float rLen=0.0;
    float distance=0.0;
    vec3 color=vec3(242.0/255.0);

    for(float i=0.0;i<80.0;i++){
        distance=distFunc(rPos,time);
        if(abs(distance)<0.01){
            vec3 normal=genNormal(rPos,time);
            float specular=pow(clamp(dot(normal,lightPos-rPos),0.0,1.0),50.0);
            color=vec3(0.5*cos(time),0.2,0.5*sin(time))+vec3(specular)*0.7;
            break;           
        }
        rLen+=distance;
        rPos=cPos+rLen*ray;
    }
    outColor=vec4(color,1.0);
}
</script>
<script id="vs" type="x-shader/x-vertex">#version 300 es
in vec3 position;
void main(void){
    gl_Position = vec4(position, 1.0);
}
</script>
<script src="main.js" type="text/javascript"></script>
<style>
@keyframes fadeIn {
    from {opacity: 0}
    to {opacity: 0.7}
}
@keyframes fadeIn2 {
    from {background:rgba(0,0,0,0.0)}
    to {background:rgba(30,15,30,0.2)}
}
 @font-face {
    font-family:avenger;
    src: url(../font/avenger.ttf);
}
body{
    margin:0;
    text-align:center;
    overflow:hidden;
}
#canvas{
        width:100vw;
        height:100vh;
        z-index:0;
    }
#title{
    position: absolute;
    bottom:5vh;
    left:5vw;
    margin: auto;
    padding:0;
    font-size:7vw;
    font-family:avenger;
    color:rgb(126,126,126);
    z-index:1;
}
p{
    margin:0;
    padding:0;
}
#link{
    position: absolute;
    margin:0;
    padding:0;
    top:10px;
    right:15px;
    width:50px;
    width:-webkit-calc(40px + (100vw - 150px) / 70);
    width:-moz-calc(40px + (100vw - 150px) / 70);
    width:calc(40px + (100vw - 150px) / 70);
    height:35px;
    height:-webkit-calc(25px + (100vw - 150px) / 70);
    height:-moz-calc(25px + (100vw - 150px) / 70);
    height:calc(25px + (100vw - 150px) / 70);
    z-index:4;
}
 .linkChild{
    position:absolute;
    margin:0;
    padding:0;
    right:20px;
    bottom:0;
    width:40px;
    width:-webkit-calc(30px + (100vw - 150px) / 70);
    width:-moz-calc(30px + (100vw - 150px) / 70);
    width:calc(30px + (100vw - 150px) / 70);
    height:2px;
    opacity:0.7;
    background:rgb(126,126,126);
    z-index:3;
}
#up{
    top:17.66px;
    top:-webkit-calc((40px + (100vw - 150px) / 70) / 3);
    top:-moz-calc((40px + (100vw - 150px) / 70) / 3);
    top:calc((40px + (100vw - 150px) / 70) / 3);
}
#middle{
    top:26.49px;
    top:-webkit-calc((40px + (100vw - 150px) / 70) / 2);
    top:-moz-calc((40px + (100vw - 150px) / 70) / 2);
    top:calc((40px + (100vw - 150px) / 70) / 2);
}
#low{
    top:35.32px;
    top:-webkit-calc((40px + (100vw - 150px) / 70) * 2 / 3);
    top:-moz-calc((40px + (100vw - 150px) / 70) * 2 / 3);
    top:calc((40px + (100vw - 150px) / 70) * 2 / 3);
}
#check{
    visibility:hidden;
}
#check:checked ~ #middle{
    transition-duration: 1s;
    transform:rotate(90deg); 
}
#check:checked ~ #up{
    transition-duration: 1s;
    transform:translateY(8.83px);
    transform:-webkit-translateY(-webkit-calc((40px + (100vw - 150px) / 70) / 6)); 
    transform:-moz-translateY(-moz-calc((40px + (100vw - 150px) / 70) / 6)); 
    transform:translateY(calc((40px + (100vw - 150px) / 70) / 6)); 
}
#check:checked ~ #low{
    transition-duration: 1s;
    transform:translateY(-8.83px);
    transform:-webkit-translateY(-webkit-calc(-(40px + (100vw - 150px) / 70) / 6)); 
    transform:-moz-translateY(-moz-calc(-(40px + (100vw - 150px) / 70) / 6)); 
    transform:translateY(calc(-(40px + (100vw - 150px) / 70) / 6)); 
}
#linkDiv{
    position:absolute;
    top:0;
    right: 0;
    width:20vw;
    height:100vh;
    overflow:scroll;
    z-index:2;
}
#check:checked ~ #linkDiv{
    animation:fadeIn2 1s ease 0s 1 normal forwards running;
}
#linkDiv div{
    position:absolute;
    width:80%;
    height:15vh;
    left:10%;
    opacity:0.0;
    background-size: cover;
    text-align:center;
}
#check:checked ~ #linkDiv div{
    animation:fadeIn 1s ease 0s 1 normal forwards running;
}
#check:checked ~ #linkDiv div a{
    display: block;
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}
#img1{
    top:15vh;
    background-position:center;
    background-image:url("../image/image0.png");
}
#img2{
    top:35vh;
    background-position:center;
    background-image:url("../image/image1.png");
}
#img3{
    top:55vh;
    background-position:center;
    background-image:url("../image/image2.png");
}
#img4{
    top:75vh;
    background-position:center;
    background-image:url("../image/image3.png");
}
#img5{
    top:95vh;
    background-position:center;
    background-image:url("../image/image4.png");
}
#img6{
    top:115vh;
    background-position:center;
    background-image:url("../image/image6.png");
}
#img7{
    top:135vh;
    background-position:center;
    background-image:url("../image/image7.png");
}
</style>
</head>

<body>
    <canvas id="canvas"></canvas>
    <p id="title">MANDELBOX</p>
    <input id="check" type="checkbox"></input>
    <label for="check"><div id="link"></div></label>
    <div class="linkChild" id="up"></div>
    <div class="linkChild" id="middle"></div>
    <div class="linkChild" id="low"></div>
    <div id="linkDiv">
            <div id="img1">
                    <a href="../index.html"></a>
                </div>
                <div id="img2">
                    <a href="../particleFlame/index.html"></a>
                </div>
                <div id="img3">
                    <a href="../reflectionBall/index.html"></a>
                </div>
                <div id="img4">
                    <a href="../cube/index.html"></a>
                </div>
                <div id="img5">
                    <a href="../mountain/index.html"></a>
                </div>
                <div id="img6">
                    <a href="../glitch/index.html"></a>
                </div>
                <div id="img7">
                    <a href="../GPGPU_calculator/index.html"></a>
                </div>
    </div>
</body>

</html>