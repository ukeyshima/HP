(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{172:function(e,n,t){"use strict";t.r(n);t(4),t(5),t(6);var r,o=t(0),i=t.n(o),a=(t(93),t(94),t(12)),c=t(493),u=t.n(c),f=t(494),s=t.n(f),l=t(495),d=t.n(l);function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,n){return!n||"object"!==p(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,n){return(b=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}var h,R,g,w,S,E,_,A,x=[-1,1,0,1,1,0,-1,-1,0,1,-1,0],I=[0,2,1,1,2,3],z="#version 300 es\nprecision highp float;\nuniform float iTime;\nuniform vec2  iResolution;\nout vec4 fragColor;\n",O="\nvoid main( void ){\n  vec4 color = vec4(0.0,0.0,0.0,1.0);\n  mainImage( color, gl_FragCoord.xy );\n  color.w = 1.0;\n  fragColor = color;\n}",P="#version 300 es\nuniform float phase;\nuniform float bufferSize;\nuniform float sampleRate;    \nout vec2 music; \n",F="\nvoid main( void ) {\n  float time = (bufferSize * phase + float(gl_VertexID)) / sampleRate;\n  music = mainSound(time);\n}",C=function(e,n,t,r){var o=e.createProgram();return e.attachShader(o,n),e.attachShader(o,t),r.length>0&&e.transformFeedbackVaryings(o,r,e.SEPARATE_ATTRIBS),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)?(e.useProgram(o),o):null},D=function(e,n,t){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))return r;alert(e.getShaderInfoLog(r)),console.log(e.getShaderInfoLog(r))},T=function(e,n,t,r,o,i,a,c){var u=function(e,n,t){var r=C(e,D(e,n,e.VERTEX_SHADER),D(e,t,e.FRAGMENT_SHADER),[]),o=[];o[0]=e.getUniformLocation(r,"iTime"),o[1]=e.getUniformLocation(r,"iResolution");var i=e.getAttribLocation(r,"position"),a=e.createVertexArray();return e.bindVertexArray(a),e.bindBuffer(e.ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ARRAY_BUFFER,new Float32Array(x),e.STATIC_DRAW),e.enableVertexAttribArray(i),e.vertexAttribPointer(i,3,e.FLOAT,!1,0,0),e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,e.createBuffer()),e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Int16Array(I),e.STATIC_DRAW),e.bindVertexArray(null),{renderPrg:r,renderUniLocation:o,renderVao:a}}(t,e,r),f=u.renderPrg,s=u.renderUniLocation,l=u.renderVao,d=c.bufferSize,p=a.sampleRate,v=function(e,n,t,r){var o=C(e,D(e,n,e.VERTEX_SHADER),D(e,"#version 300 es\nvoid main() {}\n",e.FRAGMENT_SHADER),["music"]),i=[];i[0]=e.getUniformLocation(o,"bufferSize"),i[1]=e.getUniformLocation(o,"sampleRate"),i[2]=e.getUniformLocation(o,"phase"),e.uniform1f(e.getUniformLocation(o,"bufferSize"),t),e.uniform1f(e.getUniformLocation(o,"sampleRate"),r);for(var a=[e.createBuffer(),e.createBuffer()],c=0;c<2;++c)e.bindBuffer(e.ARRAY_BUFFER,a[c]),e.bufferData(e.ARRAY_BUFFER,new Float32Array(2*t),e.STATIC_DRAW);return{musicPrg:o,musicUniLocation:i,VBOs:a}}(o,i,d,p),m=v.musicPrg,y=v.musicUniLocation,b=v.VBOs,h=0,R=0;t.clearColor(0,0,0,1);var g=(new Date).getTime();return{render:function(){var e=.001*((new Date).getTime()-g);t.useProgram(f),t.clear(t.COLOR_BUFFER_BIT),t.bindVertexArray(l),t.uniform1f(s[0],e),t.uniform2fv(s[1],[n.width,n.height]),t.drawElements(t.TRIANGLES,I.length,t.UNSIGNED_SHORT,0),t.flush()},audioProcess:function(e){o.useProgram(m),o.uniform1f(y[2],R),o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,b[h]),o.enable(o.RASTERIZER_DISCARD),o.beginTransformFeedback(o.POINTS),o.drawArrays(o.POINTS,0,d),o.endTransformFeedback(),o.disable(o.RASTERIZER_DISCARD),o.bindBufferBase(o.TRANSFORM_FEEDBACK_BUFFER,0,null),o.bindBuffer(o.ARRAY_BUFFER,b[h]);var n=new ArrayBuffer(4*d*2),t=new DataView(n);o.getBufferSubData(o.ARRAY_BUFFER,0,t);for(var r=new Float32Array(n),i=e.outputBuffer.getChannelData(0),a=e.outputBuffer.getChannelData(1),c=0;c<d;c++)i[c]=r[2*c],a[c]=r[2*c+1];h=1-h,R++}}},k=Object(a.b)(function(e){var n=e.state;return{windowWidth:n.windowWidth,windowHeight:n.windowHeight,updateWindowSize:n.updateWindowSize,renderCanvas:n.renderCanvas,renderGl:n.renderGl,updateRenderCanvas:n.updateRenderCanvas,updateRenderGl:n.updateRenderGl}})(r=Object(a.c)(r=function(e){function n(){var e,t;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=m(this,(e=y(n)).call.apply(e,[this].concat(o)))).handleResize=function(e){var n=e.target.innerWidth,r=e.target.innerHeight;t.props.updateWindowSize(n,r)},t.musicStart=function(){t.audioContext.resume().then(function(){t.node.onaudioprocess=t.audioProcess,t.node.connect(t.audioContext.destination)})},t.start=function(e,n,r){var o=T(u()(),e,n,z+s()()+O,r,P+d()()+F,t.audioContext,t.node),i=o.render,a=o.audioProcess;t.audioProcess=a;t.musicStart(),function e(){i(),t.requestId=requestAnimationFrame(e)}()},t}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&b(e,n)}(n,i.a.Component),t=n,(r=[{key:"componentDidMount",value:function(){var e=this.renderCanvas;e.width=this.props.windowWidth,e.height=this.props.windowHeight;var n=e.getContext("webgl2"),t=this.musicCanvas.getContext("webgl2");this.audioContext=new AudioContext,this.node=this.audioContext.createScriptProcessor(),this.props.updateRenderCanvas(e),this.props.updateRenderGl(n),window.addEventListener("resize",this.handleResize),this.start(e,n,t)}},{key:"componentWillUnmount",value:function(){cancelAnimationFrame(this.requestId),this.node.disconnect(),window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement("canvas",{style:{width:this.props.windowWidth,height:this.props.windowHeight},ref:function(n){e.renderCanvas=n}}),i.a.createElement("canvas",{style:{visibility:"hidden"},ref:function(n){e.musicCanvas=n}}))}}])&&v(t.prototype,r),o&&v(t,o),n}())||r)||r,j=t(496),B=t.n(j),G=(t(34),t(96),t(33),t(1));function U(e,n,t,r){t&&Object.defineProperty(e,n,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(r):void 0})}function W(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Z(e,n,t,r,o){var i={};return Object.keys(r).forEach(function(e){i[e]=r[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,r){return r(e,n,t)||t},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(e,n,i),i=null),i}var L=(h=G.d.bound,R=G.d.bound,g=G.d.bound,S=Z((w=function(){function e(){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),U(this,"windowWidth",S,this),U(this,"windowHeight",E,this),U(this,"renderCanvas",_,this),U(this,"renderGl",A,this)}var n,t,r;return n=e,(t=[{key:"updateWindowSize",value:function(e,n){this.windowWidth=e,this.renderCanvas.width=e,this.windowHeight=n,this.renderCanvas.height=n,this.renderGl.viewport(0,0,e,n)}},{key:"updateRenderCanvas",value:function(e){this.renderCanvas=e}},{key:"updateRenderGl",value:function(e){this.renderGl=e}}])&&W(n.prototype,t),r&&W(n,r),e}()).prototype,"windowWidth",[G.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.innerWidth}}),E=Z(w.prototype,"windowHeight",[G.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return window.innerHeight}}),Z(w.prototype,"updateWindowSize",[h],Object.getOwnPropertyDescriptor(w.prototype,"updateWindowSize"),w.prototype),_=Z(w.prototype,"renderCanvas",[G.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z(w.prototype,"updateRenderCanvas",[R],Object.getOwnPropertyDescriptor(w.prototype,"updateRenderCanvas"),w.prototype),A=Z(w.prototype,"renderGl",[G.n],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z(w.prototype,"updateRenderGl",[g],Object.getOwnPropertyDescriptor(w.prototype,"updateRenderGl"),w.prototype),w);function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function q(e,n){return!n||"object"!==V(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,n){return(M=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}t.d(n,"default",function(){return K});var Y={state:new L},K=function(e){function n(){return function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),q(this,H(n).apply(this,arguments))}var t,r,o;return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&M(e,n)}(n,i.a.Component),t=n,(r=[{key:"componentDidMount",value:function(){B.a.use()}},{key:"componentWillUnmount",value:function(){B.a.unuse()}},{key:"render",value:function(){return i.a.createElement(a.a,Y,i.a.createElement(i.a.Fragment,null,i.a.createElement(k,null)))}}])&&N(t.prototype,r),o&&N(t,o),n}()},493:function(e,n){e.exports=function(){return["#version 300 es","in vec3 position;","void main(void){","    gl_Position = vec4(position, 1.0);","}"].join("\n")}},494:function(e,n){e.exports=function(){return["#define PI 3.141592","#define ROW_SIZE 2.0","#define GRID_SIZE 4.0","vec3 cPos = vec3(0.0, 0.0, -20.0);","const vec3 cDir = vec3(0.0, 0.0, 1.0);","const vec3 cUp = vec3(0.0, 1.0, 0.0);","const float depth = 1.0;","const vec3 lPos = vec3(10.0,10.0,-10.0);","float random1(vec3 p){","    return fract(sin(dot(p.xyz,vec3(12.9898,46.2346,78.233)))*43758.5453123);","}","float random2(vec3 p){","    return fract(sin(dot(p.xyz,vec3(73.6134,21.6712,51.5781)))*51941.3781931);","}","float random3(vec3 p){","    return fract(sin(dot(p.xyz,vec3(39.1831,85.3813,16.2981)))*39183.4971731);","}","float perlinNoise(vec3 p){    ","  float t=iTime-mod(iTime,0.4);","    p.z=p.z*t;","    vec3 i1=floor(p);    ","    vec3 i2=i1+vec3(1.0,0.0,0.0);","    vec3 i3=i1+vec3(0.0,1.0,0.0);","    vec3 i4=i1+vec3(1.0,1.0,0.0);","    vec3 i5=i1+vec3(0.0,0.0,1.0);","    vec3 i6=i1+vec3(1.0,0.0,1.0);","    vec3 i7=i1+vec3(0.0,1.0,1.0);","    vec3 i8=i1+vec3(1.0,1.0,1.0);","    vec3 f1=vec3(random1(i1),random2(i1),random3(i1));","    vec3 f2=vec3(random1(i2),random2(i2),random3(i2));","    vec3 f3=vec3(random1(i3),random2(i3),random3(i3));","    vec3 f4=vec3(random1(i4),random2(i4),random3(i4));","    vec3 f5=vec3(random1(i5),random2(i5),random3(i5));","    vec3 f6=vec3(random1(i6),random2(i6),random3(i6));","    vec3 f7=vec3(random1(i7),random2(i7),random3(i7));","    vec3 f8=vec3(random1(i8),random2(i8),random3(i8));","    vec3 k1=p-i1;","    vec3 k2=p-i2;","    vec3 k3=p-i3;","    vec3 k4=p-i4;","    vec3 k5=p-i5;","    vec3 k6=p-i6;","    vec3 k7=p-i7;","    vec3 k8=p-i8;","    vec3 j=fract(p);","    j=j*j*(3.0-2.0*j);","\treturn mix(mix(mix(dot(f1,k1),dot(f2,k2),j.x),mix(dot(f3,k3),dot(f4,k4),j.x),j.y),mix(mix(dot(f5,k5),dot(f6,k6),j.x),mix(dot(f7,k7),dot(f8,k8),j.x),j.y),j.z)*0.5+0.5;","}","vec3 rotate(vec3 p, float angle, vec3 axis){","    vec3 a = normalize(axis);","    float s = sin(angle);","    float c = cos(angle);","    float r = 1.0 - c;","    mat3 m = mat3(","        a.x * a.x * r + c,","        a.y * a.x * r + a.z * s,","        a.z * a.x * r - a.y * s,","        a.x * a.y * r - a.z * s,","        a.y * a.y * r + c,","        a.z * a.y * r + a.x * s,","        a.x * a.z * r + a.y * s,","        a.y * a.z * r - a.x * s,","        a.z * a.z * r + c","    );","    return m * p;","}","float boxDistFunc(vec3 p,vec3 b){","    return length(max(abs(p)-b,0.0));","}","float distFunc(vec3 p,vec3 ray) {  ","  p=rotate(p,iTime,vec3(1.0,0.0,1.0));","  ray=rotate(ray,iTime,vec3(1.0,0.0,1.0));","  vec3 q=p;","  float dist=0.0;","  for(float i=0.0;i<ROW_SIZE+1.0;i++){    ","    p=abs(p);","    p.xyz-=GRID_SIZE/2.0;","  }    ","  dist=boxDistFunc(p, vec3(GRID_SIZE/2.0-0.3));   ","  if((q.x<GRID_SIZE*ROW_SIZE) && (q.x>-GRID_SIZE*ROW_SIZE) && (q.y<GRID_SIZE*ROW_SIZE) && (q.y>-GRID_SIZE*ROW_SIZE) && (q.z<GRID_SIZE*ROW_SIZE) && (q.z>-GRID_SIZE*ROW_SIZE)){        ","        vec3 c=mod(q,GRID_SIZE);","        float coordinatesRandom=perlinNoise(q-c);","        if(coordinatesRandom<0.5){","          dist = (min(min((GRID_SIZE*step(0.0,ray.x)-c.x)/ray.x,(GRID_SIZE*step(0.0,ray.y)-c.y)/ray.y),(GRID_SIZE*step(0.0,ray.z)-c.z)/ray.z)+0.001);","        }","    }","    return dist;","}","vec3 getNormal(vec3 p,vec3 ray) {","  float d = 0.001;","  return normalize(","      vec3(distFunc(p + vec3(d, 0.0, 0.0),ray) - distFunc(p + vec3(-d, 0.0, 0.0),ray),","           distFunc(p + vec3(0.0, d, 0.0),ray) - distFunc(p + vec3(0.0, -d, 0.0),ray),","           distFunc(p + vec3(0.0, 0.0, d),ray) - distFunc(p + vec3(0.0, 0.0, -d),ray)));","}","vec3 rayMarching(vec3 color, vec2 p) {  ","  vec3 cSide = vec3(1.0,0.0,0.0);","  vec3 ray = normalize(cSide * p.x + cUp * p.y + cDir * depth);","  vec3 rPos = cPos;    ","  for (float i = 0.0; i < 30.0; i++) {           ","    float distance = distFunc(rPos,ray);","    rPos += distance*ray;    ","    if (distance < 0.11) {","      vec3 normal = getNormal(rPos,ray);","      vec3 lVec = normalize(lPos - rPos);      ","      float diffuse = clamp(dot(normal, lVec), 0.1, 1.0) + 0.1;","      float specular = pow(clamp(dot(normal, lVec), 0.0, 1.0), 50.0);            ","      vec3 rrp=rotate(rPos,iTime,vec3(1.0,0.0,1.0));","      vec3 srp=rrp-mod(rrp,GRID_SIZE);","      color=vec3(random1(srp),random2(srp),random3(srp))*1.9;","      color = (color * diffuse + specular);","      break;      ","    }                          ","    if(rPos.z>1000.0){","      break;","    }  ","  }","  return color;","}","void mainImage(out vec4 fragColor, in vec2 fragCoord) {","  vec2 p =","      (fragCoord.xy * 2.0 - iResolution.xy) / min(iResolution.x, iResolution.y);","  vec3 color = rayMarching(vec3(0.1), p);","  fragColor = vec4(color, 1.0);","}"].join("\n")}},495:function(e,n){e.exports=function(){return["#define A 0.2","float kick(float time,float a) {","    return sin(6.283*a*time-1.0*exp(-100.0*time))*exp(-time*10.6);","}","float sequence(int s,float time){","  float n =mod(time,A);","  for(int i=0;i<16;i++){","    if((s>>(int(time/A)-i)%16&1)==1)break;","    n+=A;","  }","  return n;","}","vec2 mainSound( float time ){     ","    float t=time-mod(time,0.2);   "," \t  return vec2(","       0.5*kick(sequence(0xAAAA,time),100.0)+","       0.5*kick(sequence(0x5555,time),1000.0)","     );","}"].join("\n")}},496:function(e,n,t){var r,o=0,i=t(497),a={hmr:!0};a.insertInto=void 0,"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(n.locals=i.locals),n.use=n.ref=function(){return o++||(r=t(60)(i,a)),n},n.unuse=n.unref=function(){o>0&&!--o&&(r(),r=null)}},497:function(e,n,t){(e.exports=t(59)(!1)).push([e.i,"body {\n  overflow: hidden;\n  margin: 0;\n  padding: 0; }\n\n#root {\n  font-size: 0; }\n",""])}}]);